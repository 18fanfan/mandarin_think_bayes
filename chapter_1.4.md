## 章節 1：貝葉斯定理（Bayes's Theorem）

### 1.4 貝葉斯定理

接下來我們來推導貝葉斯定理。我們先觀察聯合的交換律；

<pre>p(A and B) = p(B and A) 對於所有的事件 A 和 B</pre>

接著我們寫出聯合機率

<pre> p(A and B) = p(A)*p(B|A) 通常乘號會省略</pre>

由於我們還沒定義事件 A 與 B 的意義，他們互換後得到

<pre> p(B and A) = p(B)*p(A|B) 通常乘號會省略</pre>

這就是我們要的。接下來把兩個式子放在一起，我們得到

<pre> p(A)*p(B|A) = p(B)*p(A|B) </pre>

這就表示我們有兩種方式計算聯合機率。如果你知道 p(A)，你可以乘上 p(B|A)。或是換另一種方法；如果你知道 p(B)，你可以乘上 p(A|B)。兩者會得到一樣的結果。

最後我們除上 p(B)，得到：

<pre> p(A|B) = p(A)*p(B|A) / p(B)</pre>

這就是貝葉斯定理！它看起來東西很少，但卻非常的強大。

例如，我們可以解決餅乾問題。我用 B1 代表從碗1抽出來的餅乾，用 V 代表香草餅乾。帶入貝葉斯定理我們得到

<pre> p(B1|V) = p(B1)*p(V|B1) / p(V) </pre>

等號左邊就是如果抽到香草餅乾是從碗1抽出來的紀律。等號右邊是：

* p(B1)：代表抽到碗1的機率。因為問題是說我們*隨機*選一個碗，所以可以假設機率 p(B1) = 1/2 = 0.5
* p(V|B1)：代表從碗1抽到香草餅乾的機率，等於 30/40 = 3/4
* p(V)：代表不考慮從哪個碗抽到香草餅乾的機率。可以想像將兩碗餅乾都倒到桌上混合後，抽出香草餅乾的機率。因爲香草餅乾總共 30+20=50片，巧克力餅乾總共 10+20=30片，所以 p(V) = 50/80 = 5/8。

將上方數字帶入公式，得到：

<pre> p(B1|V) = (1/2)(3/4) / (5/8) = 3/5 </pre>

所以香草餅乾是我們假設從碗1抽出來的證據，因為香草餅乾更可能是從碗1抽到。

以上就是一個應用貝葉斯定理的例子：它提供了一個策略從 p(B|A) 推導到 p(A|B)。這個策略像在餅乾問題上非常有用，因為相較於貝葉斯定理等式左邊的機率，我們較容易計算貝葉斯定理等式右邊的分項機率。
